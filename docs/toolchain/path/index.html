<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Toolchain path management | Eclipse Embedded CDT</title>
<link rel="stylesheet" href="https://gnu-mcu-eclipse.github.io/web-preview/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://gnu-mcu-eclipse.github.io/web-preview/css/modern-business.css?202008050934">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://gnu-mcu-eclipse.github.io/web-preview/css/customstyles.css?202008050934">
<link rel="stylesheet" href="https://gnu-mcu-eclipse.github.io/web-preview/css/boxshadowproperties.css?202008050934">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="https://gnu-mcu-eclipse.github.io/web-preview/css/theme-blue.css?202008050934">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://gnu-mcu-eclipse.github.io/web-preview/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="https://gnu-mcu-eclipse.github.io/web-preview/js/toc.js"></script>
<script src="https://gnu-mcu-eclipse.github.io/web-preview/js/customscripts.js"></script>

<link rel="shortcut icon" href="https://gnu-mcu-eclipse.github.io/web-preview/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="web-jekyll" href="https://gnu-mcu-eclipse.github.io/web-preview/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks" style="">
        <div style="display: inline-block; float: left; margin-top: 8px; margin-left: auto; margin-right: 10px;"><img src="/web-preview/images/company_logo.png" alt="logo" width="32px" height="32px"/></div>
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/web-preview/">&nbsp;<span class="projectTitle"> Eclipse Embedded CDT</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li class="active"><a href="/web-preview/news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Links<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a class="extern" href="https://marketplace.eclipse.org/content/eclipse-embedded-cdt" target="_blank" rel="noopener">Eclipse Marketplace</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://ci.eclipse.org/embed-cdt/" target="_blank" rel="noopener">Eclipse Jenkins</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://dev.eclipse.org/committers/committertools/stats.php" target="_blank" rel="noopener">Eclipse Analytics</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">GitHub<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a class="extern" href="https://github.com/eclipse-embed-cdt/" target="_blank" rel="noopener">Eclipse Embedded CDT</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/xpack/" target="_blank" rel="noopener">xPack Core Tools</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/xpack-dev-tools/" target="_blank" rel="noopener">3rd Party xPack Tools</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://github.com/xpacks/" target="_blank" rel="noopener">3rd Party xPacks</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Forums<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a class="extern" href="https://www.tapatalk.com/groups/xpack/" target="_blank" rel="noopener">The xPack Forums</a></li>
                        
                        
                        
                        <li><a class="extern" href="https://gitter.im/xpack/" target="_blank" rel="noopener">The xPack Chatroom</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/web-preview/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: '/web-preview/search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Toolchain path management">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3 sticky" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a title="Getting Started" href="#">Getting Started</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/web-preview/">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Features" href="/web-preview/plugins/features/">Features</a></li>
          
          
          
          
          
          
          <li><a title="Install prerequisites" href="/web-preview/plugins/prerequisites/">Install prerequisites</a></li>
          
          
          
          
          
          
          <li><a title="About" href="/web-preview/about/">About</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="News" href="#">News</a>
      <ul>
          
          
          
          <li><a title="Latest News" href="/web-preview/news/">Latest News</a></li>
          
          
          
          
          
          
          <li><a title="Archive" href="/web-preview/news/archive/">Archive</a></li>
          
          
          
          
          
          
          <li><a title="Tags" href="/web-preview/tags/">Tags</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Support" href="#">Support</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/web-preview/support/">Overview</a></li>
          
          
          
          
          
          
          <li><a class="extern" title="The xPack Forums" href="https://www.tapatalk.com/groups/xpack/" target="_blank" rel="noopener">The xPack Forums</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Contributor Info" href="#">Contributor Info</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/web-preview/develop/">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Links" href="/web-preview/develop/links/">Links</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Maintainer Info" href="#">Maintainer Info</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/web-preview/maintain/">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="License" href="#">License</a>
      <ul>
          
          
          
          <li><a class="extern" title="Eclipse Public License 2.0" href="https://www.eclipse.org/legal/epl-2.0/" target="_blank" rel="noopener">Eclipse Public License 2.0</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Home" href="#">Home</a>
      <ul>
          
          
          
          <li><a title="Eclipse Embedded CDT" href="/web-preview/">Eclipse Embedded CDT</a></li>
          
          
          
          
          
          
          <li><a class="extern" title="The xPack Project" href="https://xpack.github.io" target="_blank" rel="noopener">The xPack Project</a></li>
          
          
          
          
          
          
          <li><a class="extern" title="GNU MCU Eclipse (deprecated)" href="https://gnu-mcu-eclipse.github.io" target="_blank" rel="noopener">GNU MCU Eclipse (deprecated)</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Toolchain path management</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


   <h2 id="overview">Overview</h2>

<p>Generally toolchain path management is an advanced feature, required when multiple toolchains are installed on a machine.</p>

<h2 id="why-use-multiple-toolchains">Why use multiple toolchains?</h2>

<h3 id="production-environments">Production environments</h3>

<p>In production environments, when doing maintenance for old products, to obtain repetitive results, it is strongly recommended to build old versions with their original toolchain version.</p>

<p>Since toolchains developers are quite active, releasing several versions each year, it soon becomes necessary to manage multiple toolchains, each with multiple versions.</p>

<h3 id="rd-environments">R&amp;D environments</h3>

<p>In addition to production environments, in research environments, developers usually experiment with multiple toolchains and toolchain versions, to test their programs.</p>

<h2 id="path-management-in-commercial-ides">Path management in commercial IDEs</h2>

<p>Most of the commercial IDEs include the toolchain packed in the distribution, and handle the path to it automatically and transparently for the user. When using the supplied toolchain, things are extremely easy. Using other toolchains/versions is a different story, more complicated and sometimes even impossible.</p>

<h2 id="default-path-management-in-eclipse-cdt">Default path management in Eclipse CDT</h2>

<p>By default, the Eclipse managed build plug-ins do not handle the toolchain path at all, and rely on the proper setting of the environment PATH to reach the toolchain binaries. The PATH can be set in different places:</p>

<ul>
  <li>in the environment where Eclipse is started (either a system global setting or a per user setting)</li>
  <li>in the Eclipse workspace, common for all projects</li>
  <li>in the project build configuration</li>
</ul>

<p>This mechanism can be both flexible and a source of nuisance. When only a single toolchain is installed, any global setting is acceptable and the exact method makes no real difference.</p>

<p>However, when multiple toolchains are installed, the use of any global setting is strongly discouraged, since it soon leads to serious problems generally due to messing headers and executables between different toolchains. In this case the only recommended solution is to define the toolchain path for each build configuration.</p>

<p><img src="/web-preview/assets/images/2017/project-environment.png" alt="Toolchain path in project environment" /></p>

<h2 id="cdt-cross-build-plug-in">CDT Cross build plug-in</h2>

<p>The integrated CDT Cross build plug-in does exactly this, defines a path for each projects. Unfortunately it stores this setting in the .cproject file, making it non-portable between different machines, and even worse between different platforms (Windows/Unix).</p>

<h2 id="what-is-project-portability">What is project portability?</h2>

<p>In short, a portable project is a project that can be used without changes on any workspace on any platform.</p>

<p>For more details, please see the separate <a href="/web-preview/eclipse/project/portability/" title="Project portability">Project portability</a> page.</p>

<h2 id="the-gnu-mcu-eclipse-solution">The GNU MCU Eclipse solution</h2>

<p>Generating portable projects was one of the design requirements of the GNU MCU Eclipse cross build plug-in, at the same time with the apparently conflicting requirement for handling multiple toolchains and versions.</p>

<p>To achieve this, the GNU MCU Eclipse cross build plug-in provides a large selection of existing toolchains, and associate each one with a separate path. For special projects that require a specific version, it also allows to associate a path to each project. In all cases this association is stored in the workspace internal folders, and not in the project configuration, so it is not passed via the repository from one developer to the other.</p>

<p>The default (and the recommended) setting, is to use the global toolchain path.</p>

<p><img src="/web-preview/assets/images/2018/toolchain-properties.png" alt="Toolchains Properties" /></p>

<p>The displayed path is associated with the selected toolchain. To change the toolchain path use the hyperlinks; it is recommended to use the global page, but, if needed, the toolchain path can also be configured per workspace or even per project.</p>

<p><img src="/web-preview/assets/images/2018/global-arm-toolchains-paths.png" alt="Global Tools Paths" /></p>

<p>Clicking the <strong>xPack…</strong> button allows to enter the path by selecting the xPack version. (The button is enabled only for toolchains that are distributed as xPacks).</p>

<p><img src="/web-preview/assets/images/2018/global-arm-toolchains-paths-xpack.png" alt="Global Tools Paths" /></p>

<blockquote>
  <p>macOS note: due to a weird decision of the Eclipse macOS developers, the file system browser does not show file/folders starting with a dot; thus, the <code class="highlighter-rouge">.content/bin</code> final part of the path must be entered manually.</p>
</blockquote>

<p>Using the global toolchain path does not store any data in the project configuration files, but in the Eclipse folders, so the project portability is not affected.</p>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="no-toolchain-path">No toolchain path</h3>

<p>Forgetting to set the toolchain path, or setting a wrong value, is easy to diagnose, since the Eclipse editor will be full of red markers to all definitions related to system headers, and, even more explictly, the build will fail:</p>

<p><img src="/web-preview/assets/images/2014/02/NoToolchainPath.png" alt="Missing or wrong path" /></p>

<p>If so, enter the project <strong>C/C++ Settings</strong>, the <strong>Toolchains</strong> tab, and add/correct the toolchain path (see above).</p>

<h3 id="checking-the-compiler-version">Checking the compiler version</h3>

<p>If you are not sure that the plug-in selected the desired toolchain, you can insert a pre-build action to display the version. The command to do this is</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>${cross_prefix}${cross_c}${cross_suffix} --version
</code></pre></div></div>

<p>The page to setup this is the project <strong>Properties</strong> → <strong>C/C++ Build</strong> → <strong>Settings</strong> → <strong>Build Steps</strong>:</p>

<p><img src="/web-preview/assets/images/2014/02/PreBuildVersion.png" alt="Pre-build step to display compiler version" /></p>

<h3 id="the-installer-already-updated-the-system-path">The installer already updated the system path</h3>

<p>If you used an unfriendly installer, which already updated the system path without asking, you should manually fix this situation, and <strong>remove the toolchain path from the system path</strong>.</p>



        


    <div class="tags">
        
    </div>

    


</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2020 Liviu Ionescu. All rights reserved. <br />
 Site last generated: Aug 17, 2020 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-16767008-13','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
